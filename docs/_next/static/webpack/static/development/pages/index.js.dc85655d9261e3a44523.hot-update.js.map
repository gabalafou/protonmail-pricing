{"version":3,"file":"static/webpack/static/development/pages/index.js.dc85655d9261e3a44523.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React from 'react';\nimport fetch from 'isomorphic-unfetch';\n\n\nHome.getInitialProps = async () => {\n  return {\n    planData: await getPlans()\n  };\n}\n\nexport default function Home(props: {planData: PlanData}) {\n  const { planData } = props;\n  const planDataString = JSON.stringify(planData);\n  return (\n    <div>\n      Plan data: <br />\n      <textarea\n        defaultValue={planDataString}\n        cols={120}\n        rows={50}\n      />\n    </div>\n  );\n}\n\ntype PlanData = {\n  Plans: [],\n};\n\nasync function getPlans(): Promise<PlanData | void> {\n  const myHeaders = {\n    'Content-Type': 'application/json;charset=utf-8',\n    'x-pm-appversion': 'Other',\n    'x-pm-apiversion': '3',\n    'Accept': 'application/vnd.protonmail.v1+json',\n  };\n\n  const myInit: RequestInit = {\n    method: 'GET',\n    headers: myHeaders,\n    mode: 'cors',\n    cache: \"default\"\n  };\n  return fetch('https://api.protonmail.ch/payments/plans?Currency=EUR', myInit)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        console.error(\"Fetching plans failed.\");\n        return;\n      }\n    })\n    .catch(err => {\n      console.error(err);\n      return;\n    });\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AAJA;AARA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA0BA;;;;A","sourceRoot":""}